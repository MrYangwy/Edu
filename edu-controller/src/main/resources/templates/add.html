<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>测试</title>
    <link rel="stylesheet" th:href="@{/static/easyUI/themes/default/easyui.css}" />
    <link rel="stylesheet" th:href="@{/static/easyUI/themes/icon.css}" />
    <link rel="stylesheet" th:href="@{/static/css/home.css}" />
    <script th:src="@{/static/js/jquery-3.3.1.js}"></script>
    <script th:src="@{/static/easyUI/jquery.easyui.min.js}"></script>
    <script th:src="@{/static/easyUI/locale/easyui-lang-zh_CN.js}"></script>

</head>

    <title>新增-附件管理</title>
    <!-- 引入easyui-css -->


</head>
<body>
<div class="single-input detail-wrap">
    <div id="loadingAnimate">
        <div class="top-nav">
            <span class="returnBack" id="returnBack" onclick="goback()"></span>
            <div class="nav-child-right">
                <span class="smallBase-btn-bg-blue" onclick="save()">保存</span>
            </div>
            <div style="clear: both;"></div>
        </div>
        <div class="registrationBox clearfix">
            <div style="padding:3px 2px;border-bottom:1px solid #ccc">新增</div>
            <div class="reg-left fl">
                <form id="ff" method="post" enctype="multipart/form-data">
                    <div class="reg-inputBox-havebtn">
                        <span class="reg-label"><i>*</i>附件标题:</span>
                        <div>
                            <input type="text" id="affixTitle" name="affixTitle" class="easyui-validatebox"
                                   data-options="required:true" style="width: 100%; height: 34px;"
                                   textboxname="affixTitle" >
                        </div>
                    </div>
                    <div class="reg-inputBox-havebtn">
                        <span class="reg-label"><i>*</i>附件类型:</span>
                        <div>
                            <input type="radio" name="affixType" value="0"  checked="checked">文档
                            <input type="radio" name="affixType" value="1">课件
                            <input type="radio" name="affixType" value="2">视频
                            <input type="radio" name="affixType" value="3">其他
                        </div>
                    </div>
                    <div class="reg-inputBox-havebtn">
                        <span class="reg-label"><i>*</i>上传附件:</span>
                        <div>
                            <input class="easyui-filebox" buttonText="选择附件"  id="affixFile" name="affixFileT" style="width:300px" data-options="required:true">
                        </div>
                    </div>
                    <div class="reg-inputBox-havebtn">
                        <span class="reg-label"><i>*</i>状态:</span>
                        <div>
                            <input type="radio" name="status" value="1" checked="checked">可下载
                            <input type="radio" name="status" value="2">可查看
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
</body>
<script>
    function goback(){
        window.location.href = baseWebUrl+'/trainAffix/list';
        var e = e || window.event;
        e.stopPropagation();
    }

    function clearForm(){
        $('#ff').form('clear');
    }

    function save(){
        debugger;
        var formdata = new FormData(document.getElementById("affixFile"));
        $.ajax({
            url:'addBannerimg',
            type:'post',
            dataType : "json",//预期服务器返回的数据类型
            data : formdata,
            processData: false,
            contentType: false,
            mimeType:"multipart/form-data",
            async:false,
            success: function(data) {
                console.log(data)
            },
            error: function() {
                console.log("fucking error")
            }
        });
    }



</script>
</html>